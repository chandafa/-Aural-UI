{"version":3,"sources":["../src/bin.ts","../src/utils/get-package-info.ts","../src/commands/add.ts","../src/commands/init.ts"],"sourcesContent":["#!/usr/bin/env node\r\n\r\nimport { Command } from \"commander\";\r\nimport { getPackageInfo } from \"./utils/get-package-info\";\r\nimport { add } from \"./commands/add\";\r\nimport { init } from \"./commands/init\";\r\n\r\nasync function main() {\r\n  const packageInfo = await getPackageInfo();\r\n\r\n  const program = new Command()\r\n    .name(\"auralix-ui\")\r\n    .description(\"Add Auralix UI components to your project\")\r\n    .version(packageInfo.version || \"1.0.0\", \"-v, --version\", \"display the version number\");\r\n\r\n  program.addCommand(init);\r\n  program.addCommand(add);\r\n\r\n  program.parse();\r\n}\r\n\r\nmain();\r\n","import path from \"path\";\r\nimport fs from \"fs-extra\";\r\n\r\nexport async function getPackageInfo() {\r\n  const packageJsonPath = path.join(__dirname, \"..\", \"package.json\");\r\n  return await fs.readJSON(packageJsonPath);\r\n}\r\n","import { Command } from \"commander\";\r\nimport fs from \"fs-extra\";\r\nimport path from \"path\";\r\nimport chalk from \"chalk\";\r\nimport ora from \"ora\";\r\nimport prompts from \"prompts\";\r\n\r\n\r\nexport const add = new Command()\r\n  .name(\"add\")\r\n  .description(\"Add a component to your project\")\r\n  .argument(\"[components...]\", \"The components to add\")\r\n  .option(\"-y, --yes\", \"Skip confirmation prompt\", false)\r\n  .option(\"-o, --overwrite\", \"Overwrite existing files\", false)\r\n  .action(async (components, options) => {\r\n    const spinner = ora(\"Checking components...\").start();\r\n\r\n    try {\r\n      if (!components || components.length === 0) {\r\n        spinner.stop();\r\n        const response = await prompts({\r\n          type: \"text\",\r\n          name: \"component\",\r\n          message: \"Enter the component name:\",\r\n        });\r\n        if (!response.component) {\r\n             console.log(chalk.yellow(\"No component specified. Exiting.\"));\r\n             process.exit(0);\r\n        }\r\n        components = [response.component];\r\n        spinner.start();\r\n      }\r\n\r\n      const cwd = process.cwd();\r\n      // Assume components are in src/components/ui/\r\n      const targeDir = path.resolve(cwd, \"src/components/ui\");\r\n\r\n      if (!fs.existsSync(targeDir)) {\r\n          await fs.ensureDir(targeDir);\r\n      }\r\n\r\n      // __dirname is dist/. Source is in ../src/components\r\n      const componentsSourceDir = path.join(__dirname, \"..\", \"src\", \"components\");\r\n\r\n      for (const component of components) {\r\n        spinner.text = `Installing ${component}...`;\r\n        \r\n        // Handle PascalCase or kebab-case\r\n        // We will simple assume the file exists as PascalCase.tsx for now\r\n        // or iterate directory to find match.\r\n        // Let's iterate directory to find case-insensitive match\r\n        const files = await fs.readdir(componentsSourceDir);\r\n        const componentFile = files.find(f => f.toLowerCase() === component.toLowerCase() + \".tsx\");\r\n\r\n        if (!componentFile) {\r\n            spinner.warn(chalk.yellow(`Component \"${component}\" not found.`));\r\n            continue;\r\n        }\r\n\r\n        const sourcePath = path.join(componentsSourceDir, componentFile);\r\n        const targetPath = path.join(targeDir, componentFile);\r\n\r\n        if (fs.existsSync(targetPath) && !options.overwrite) {\r\n            spinner.stop();\r\n            const response = await prompts({\r\n                type: \"confirm\",\r\n                name: \"overwrite\",\r\n                message: `Component \"${component}\" already exists. Overwrite?`,\r\n                initial: false\r\n            });\r\n            spinner.start();\r\n            if (!response.overwrite) {\r\n                spinner.info(chalk.blue(`Skipped ${component}`));\r\n                continue;\r\n            }\r\n        }\r\n\r\n        let content = await fs.readFile(sourcePath, \"utf-8\");\r\n        \r\n        // Transform imports\r\n        // replace \"../utils\" with \"@/lib/utils\"\r\n        // replace \"@/components/ui/...\" with \"./...\" if it references other UI components (complex)\r\n        // For now just handle the utils import\r\n        content = content.replace(/from \"\\.\\.\\/utils\"/g, 'from \"@/lib/utils\"');\r\n\r\n        await fs.writeFile(targetPath, content);\r\n        spinner.succeed(chalk.green(`Installed ${component}`));\r\n      }\r\n      \r\n      spinner.stop();\r\n      console.log(chalk.green(\"\\nSuccess! Components installed.\"));\r\n\r\n    } catch (error) {\r\n      spinner.fail(chalk.red(\"Failed to add components.\"));\r\n      console.error(error);\r\n      process.exit(1);\r\n    }\r\n  });\r\n","import { Command } from \"commander\";\r\nimport fs from \"fs-extra\";\r\nimport path from \"path\";\r\nimport chalk from \"chalk\";\r\nimport ora from \"ora\";\r\n\r\nexport const init = new Command()\r\n  .name(\"init\")\r\n  .description(\"Initialize Auralix UI in your project\")\r\n  .action(async () => {\r\n    const spinner = ora(\"Initializing Auralix UI...\").start();\r\n\r\n    try {\r\n      const cwd = process.cwd();\r\n      const libPath = path.resolve(cwd, \"src/lib\");\r\n      const utilsPath = path.join(libPath, \"utils.ts\");\r\n\r\n      // Create lib directory if it doesn't exist\r\n      if (!fs.existsSync(libPath)) {\r\n        await fs.ensureDir(libPath);\r\n      }\r\n\r\n      // Create utils.ts if it doesn't exist\r\n      if (!fs.existsSync(utilsPath)) {\r\n        await fs.writeFile(\r\n          utilsPath,\r\n          `import { type ClassValue, clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n`\r\n        );\r\n        spinner.succeed(chalk.green(\"Created src/lib/utils.ts\"));\r\n      } else {\r\n        spinner.info(chalk.blue(\"src/lib/utils.ts already exists. Skliping...\"));\r\n      }\r\n      \r\n      spinner.succeed(chalk.green(\"Initialization complete!\"));\r\n      \r\n      // Check for dependencies\r\n       console.log(chalk.yellow(\"\\nMake sure you have the following dependencies installed:\"));\r\n       console.log(chalk.cyan(\"npm install framer-motion\"));\r\n\r\n    } catch (error) {\r\n      spinner.fail(chalk.red(\"Failed to initialize Auralix UI.\"));\r\n      console.error(error);\r\n      process.exit(1);\r\n    }\r\n  });\r\n"],"mappings":"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","names":["Command","fs","path","Command","fs","path","chalk","ora","Command"]}